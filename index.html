<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Cryptography tool</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons|Roboto">

    <link href="styles\main.css" rel="stylesheet">
</head>

<body>
    <div id="app">
        <h1>Web Crypto Tool</h1>

        <p>Type the information you want to encrypt in the textarea below. Enter your secret key in the input box below the textarea. Tell your friend the secret key. Click encrypt and copy the encrypted string. Your friend then can copy the encrypted string and decrypt it using the secret key.</p>

        <textarea id="input" placeholder="Type string to be encrypted."></textarea>

        <br>

        <input id="input-key" placeholder="Enter secret key here...">

        <br>

        <button onclick="encrypt();">Encrypt</button>

        <button onclick="decrypt();">Decrypt</button>

        <div id="result">
            Results will appear here.
        </div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js" integrity="sha512-nOQuvD9nKirvxDdvQ9OMqe2dgapbPB7vYAMrzJihw5m+aNcf0dX53m6YxM4LgA9u8e9eg9QX+/+mPu8kCNpV2A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script href="scripts\main.js"></script>

    <script>
        var encryptString = function(i, k) {
            return CryptoJS.AES.encrypt(i, k);
        };
        var decryptString = function(ie, k) {
            return CryptoJS.AES.decrypt(ie, k);
        };

        function encrypt() {
            //result.innerHTML = inputEncrypted + "<br>" + inputDecrypted;

            var _input = document.getElementById("input").value;
            var _key = document.getElementById("input-key").value;

            result.innerHTML = "Encrypted <span style='color: #616161;'>" + _input + "</span> [secret key: " + _key + "]. Encrypted String: <code>" + encryptString(_input, _key) + "</code><br><br><br>";
        };

        function decrypt() {
            var _input = document.getElementById("input").value;
            var _key = document.getElementById("input-key").value;
            var tt = decryptString(_input, _key);
            result.innerHTML = "Decrypted String, result: <span style='color: #616161;'>" + tt.toString(CryptoJS.enc.Utf8) + "</span>";
        };
    </script>
</body>
</html>